# ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงููููุฉ ุงููุทููุฉ

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ

ุชู ุชุนุฏูู ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ููุฏุนู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู **ุฑูู ุงููููุฉ ุงููุทููุฉ** ุฃู **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**.

---

## ๐ง ุงูุชุนุฏููุงุช ุนูู Backend (Laravel)

### 1. LoginRequest (`app/Http/Requests/Auth/LoginRequest.php`)

**ูุจู:**
```php
'email' => ['required', 'string', 'email'],
'password' => ['required', 'string'],
```

**ุจุนุฏ:**
```php
'identifier' => ['required', 'string'], // ูููู ุฃู ูููู email ุฃู national_id
'password' => ['required', 'string'],
```

### 2. LoginController (`app/Http/Controllers/Api/V1/Auth/LoginController.php`)

**ูุจู:**
```php
$user = User::where('email', $request->email)->first();
```

**ุจุนุฏ:**
```php
// ุชุญุฏูุฏ ููุน ุงููุนุฑู (email ุฃู national_id)
$identifier = $request->identifier;
$field = filter_var($identifier, FILTER_VALIDATE_EMAIL) ? 'email' : 'national_id';

// ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู
$user = User::where($field, $identifier)->first();
```

**ุงูุขููุฉ:**
1. ุงููุธุงู ูุชุญูู ุชููุงุฆูุงู ุฅุฐุง ูุงู ุงููุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู (ูุญุชูู ุนูู @)
2. ุฅุฐุง ูุงู ุจุฑูุฏ ุฅููุชุฑููู โ ูุจุญุซ ูู ุญูู `email`
3. ุฅุฐุง ูู ููู ุจุฑูุฏ ุฅููุชุฑููู โ ูุจุญุซ ูู ุญูู `national_id`

---

## ๐จ ุงูุชุนุฏููุงุช ุนูู Frontend (Vue.js)

### 1. ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (`lms_front/src/views/teacher/logIn.vue`)

**ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:**

โ **ุญูู ููุญุฏ ููุฅุฏุฎุงู:**
- ููุจู ุฑูู ุงููููุฉ ุงููุทููุฉ ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- Placeholder: "ุฑูู ุงููููุฉ ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู..."

โ **ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุจุงูุนุฑุจู:**
- "ุฑูู ุงููููุฉ ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ"
- "ุชู ุฅููุงู ุญุณุงุจู. ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฏุนู"
- "ุชู ุฑูุถ ุญุณุงุจู. ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฏุนู"

โ **ุฑุณุงุฆู ุงููุฌุงุญ:**
- "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ!"

โ **Loading State:**
- ุฒุฑ ูุนุทู ุฃุซูุงุก ุงูุชุณุฌูู
- Spinner ูุธูุฑ ุฃุซูุงุก ุงูุงูุชุธุงุฑ
- ูุต ูุชุบูุฑ: "ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู..."

โ **ุงูุชูุฌูู ุงูุชููุงุฆู ุญุณุจ ุงูุฏูุฑ:**
```javascript
if (user.role === "admin" || user.role === "super_admin") {
  this.$router.push("/admin/dashboard");
} else if (user.role === "teacher") {
  this.$router.push("/dashboard");
} else if (user.role === "student") {
  this.$router.push("/stDashBoard");
}
```

โ **ุฅุฎูุงุก/ุฅุธูุงุฑ ูููุฉ ุงููุฑูุฑ:**
- ุฃููููุฉ ุชูุงุนููุฉ (ุนูู)
- ุชุจุฏูู ุจูู password ู text

---

## ๐ API Request Format

### ุงูุทูุจ (Request)

```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "identifier": "1234567890",  // ุฑูู ุงููููุฉ ุฃู ุงูุจุฑูุฏ
  "password": "password123"
}
```

### ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ (Success Response)

```json
{
  "success": true,
  "message": "Login successful.",
  "data": {
    "token": "1|abc123...",
    "user": {
      "id": 1,
      "name": "Ahmed Ali",
      "email": "ahmed@example.com",
      "national_id": "1234567890",
      "role": "admin",
      "status": "active"
    }
  }
}
```

### ุงูุงุณุชุฌุงุจุฉ ุนูุฏ ุงูุฎุทุฃ (Error Response)

```json
{
  "success": false,
  "message": "Invalid credentials."
}
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑ (Admin)

1. ุงูุชุญ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู: `http://localhost:5173/logIn`
2. ุฃุฏุฎู **ุฑูู ุงููููุฉ ุงููุทููุฉ** (ูุซุงู: `1234567890`)
3. ุฃุฏุฎู **ูููุฉ ุงููุฑูุฑ**
4. ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"
5. ุณูุชู ุชูุฌููู ุชููุงุฆูุงู ุฅูู `/admin/dashboard`

### ููุทุงูุจ ุฃู ุงููุนูู

ูููู ุงุณุชุฎุฏุงู:
- **ุฑูู ุงููููุฉ ุงููุทููุฉ**: `1234567890`
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: `user@example.com`

---

## โ ุงุฎุชุจุงุฑ ุงููุธุงู

### ุญุงูุฉ 1: ุชุณุฌูู ุฏุฎูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู

```bash
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "identifier": "admin@lms.com",
    "password": "password"
  }'
```

### ุญุงูุฉ 2: ุชุณุฌูู ุฏุฎูู ุจุฑูู ุงููููุฉ

```bash
curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "identifier": "1234567890",
    "password": "password"
  }'
```

---

## ๐ ุงูุฃูุงู

### โ ุงูุชุญูู ูู ุงูุจูุงูุงุช
- Laravel Validation ุนูู ุงูู Backend
- Required validation ุนูู ุงูู Frontend

### โ ุญูุงูุฉ ุงูุญุณุงุจ
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุญุณุงุจ (active, suspended, rejected)
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู

### โ Token Authentication
- Laravel Sanctum ูููุตุงุฏูุฉ
- Token ููุญูุธ ูู localStorage
- Auto redirect ุนูุฏ ุงูุชูุงุก ุงูุฌูุณุฉ

---

## ๐ฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ูุจู ุงูุชุนุฏูู
- ุญูู ูุงุญุฏ ููุจุฑูุฏ ุงูุฅููุชุฑููู ููุท
- ูุง ุชูุฌุฏ ุฑุณุงุฆู ุฃุฎุทุงุก
- ูุง ููุฌุฏ loading state

### ุจุนุฏ ุงูุชุนุฏูู
โ ุญูู ููุญุฏ ููุจุฑูุฏ ุฃู ุฑูู ุงููููุฉ
โ ุฑุณุงุฆู ุฃุฎุทุงุก ููุฌุงุญ ุจุงูุนุฑุจู
โ Loading spinner
โ ุฒุฑ ูุนุทู ุฃุซูุงุก ุงูุงูุชุธุงุฑ
โ ุชุญุณููุงุช UI/UX
โ ุชูุฌูู ุชููุงุฆู ุญุณุจ ุงูุฏูุฑ

---

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฑุณุงุฆู ุงูุฃุฎุทุงุก ุงููุชุฑุฌูุฉ:

| ุงูุญุงูุฉ | ุงูุฑุณุงูุฉ ุจุงูุฅูุฌููุฒู | ุงูุฑุณุงูุฉ ุจุงูุนุฑุจู |
|--------|-------------------|-----------------|
| ุจูุงูุงุช ุฎุงุทุฆุฉ | Invalid credentials | ุฑูู ุงููููุฉ ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ |
| ุญุณุงุจ ููููู | Account suspended | ุชู ุฅููุงู ุญุณุงุจู. ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฏุนู |
| ุญุณุงุจ ูุฑููุถ | Account rejected | ุชู ุฑูุถ ุญุณุงุจู. ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฏุนู |
| ุฎุทุฃ ุนุงู | Login failed | ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุณุฌูู ุงูุฏุฎูู |

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

1. **ูููุฏูุฑ:**
   - ุงุณุชุฎุฏู ุฑูู ุงููููุฉ ุงููุทููุฉ ููุฏุฎูู ุงูุณุฑูุน
   - ุฃู ุงุณุชุฎุฏู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

2. **ููุทูุงุจ ูุงููุนูููู:**
   - ูููู ุงุณุชุฎุฏุงู ุฃู ูู ุงูุทุฑููุชูู
   - ุงููุธุงู ููุชุดู ุงูููุน ุชููุงุฆูุงู

3. **ุงูุฃูุงู:**
   - ูุง ุชุดุงุฑู ุฑูู ุงููููุฉ ุฃู ูููุฉ ุงููุฑูุฑ
   - ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ

---

## ๐ ููุฎุต ุงูุชุญุณููุงุช

| ุงูููุฒุฉ | ุงูุญุงูุฉ |
|--------|--------|
| ุฏุนู ุฑูู ุงููููุฉ ุงููุทููุฉ | โ |
| ุฏุนู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | โ |
| ุงููุดู ุงูุชููุงุฆู ุนู ุงูููุน | โ |
| ุฑุณุงุฆู ุจุงูุนุฑุจู | โ |
| Loading state | โ |
| ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก | โ |
| ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ | โ |
| ุฅุฎูุงุก/ุฅุธูุงุฑ ูููุฉ ุงููุฑูุฑ | โ |
| UI/UX ูุญุณูู | โ |

---

## ๐ ุงููุชูุฌุฉ

ูุธุงู ุชุณุฌูู ุฏุฎูู ูุญุณูู ูุณูู ุงูุงุณุชุฎุฏุงู ูุฏุนู:
- โ ุฑูู ุงููููุฉ ุงููุทููุฉ (ูููุฏูุฑ ูุงูุฌููุน)
- โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุจุฏูู)
- โ ูุดู ุชููุงุฆู ุฐูู
- โ ุฑุณุงุฆู ูุงุถุญุฉ ุจุงูุนุฑุจู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-12-06
**ุงูุฅุตุฏุงุฑ:** 2.0.0
